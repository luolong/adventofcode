#!/usr/bin/env raku

use lib 'lib';
use File::Temp;

unit sub MAIN(
  Str $day where ?(* ~~ /day \d+/),       #= solve puzzle for the given day (day1, day2, ..., day24)
  Str $file = "$day.txt",                 #= file name containing this day's puzzle input
);

my $module := $day.tc;
when $file ~~ "-" {
  require ::($module)<&test>;
  test();
}

die "Input for $day does not exist: {$file.IO.resolve.path}" unless $file.IO.f;

require ::($module)<&run>;
run($file);
